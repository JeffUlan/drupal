!function(t){const e=t.en=t.en||{};e.dictionary=Object.assign(e.dictionary||{},{"HTML object":"HTML object"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var t={142:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});var r=o(609),n=o.n(r)()((function(t){return t[1]}));n.push([t.id,":root{--ck-html-object-embed-unfocused-outline-width:1px}.ck-widget.html-object-embed{font-size:var(--ck-font-size-base);background-color:var(--ck-color-base-foreground);padding:var(--ck-spacing-small);padding-top:calc(var(--ck-font-size-tiny) + var(--ck-spacing-large));min-width:calc(76px + var(--ck-spacing-standard))}.ck-widget.html-object-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.html-object-embed:before{font-weight:400;font-style:normal;position:absolute;content:attr(data-html-object-embed-label);top:0;left:var(--ck-spacing-standard);background:#999;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);font-size:var(--ck-font-size-tiny);font-family:var(--ck-font-face)}.ck-widget.html-object-embed .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.html-object-embed .html-object-embed__content{pointer-events:none}div.ck-widget.html-object-embed{margin:1em auto}span.ck-widget.html-object-embed{display:inline-block}",""]);const i=n},609:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o=t(e);return e[2]?"@media ".concat(e[2]," {").concat(o,"}"):o})).join("")},e.i=function(t,o,r){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(n[l]=!0)}for(var c=0;c<t.length;c++){var s=[].concat(t[c]);r&&n[s[0]]||(o&&(s[2]?s[2]="".concat(o," and ").concat(s[2]):s[2]=o),e.push(s))}},e}},62:(t,e,o)=>{"use strict";var r,n=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}t[e]=o}return t[e]}}(),l=[];function c(t){for(var e=-1,o=0;o<l.length;o++)if(l[o].identifier===t){e=o;break}return e}function s(t,e){for(var o={},r=[],n=0;n<t.length;n++){var i=t[n],s=e.base?i[0]+e.base:i[0],a=o[s]||0,m="".concat(s," ").concat(a);o[s]=a+1;var u=c(m),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(l[u].references++,l[u].updater(d)):l.push({identifier:m,updater:p(d,e),references:1}),r.push(m)}return r}function a(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var n=o.nc;n&&(r.nonce=n)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var l=i(t.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(e)}return e}var m,u=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function d(t,e,o,r){var n=o?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,n);else{var i=document.createTextNode(n),l=t.childNodes;l[e]&&t.removeChild(l[e]),l.length?t.insertBefore(i,l[e]):t.appendChild(i)}}function h(t,e,o){var r=o.css,n=o.media,i=o.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var f=null,b=0;function p(t,e){var o,r,n;if(e.singleton){var i=b++;o=f||(f=a(e)),r=d.bind(null,o,i,!1),n=d.bind(null,o,i,!0)}else o=a(e),r=h.bind(null,o,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(o)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var o=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<o.length;r++){var n=c(o[r]);l[n].references--}for(var i=s(t,e),a=0;a<o.length;a++){var m=c(o[a]);0===l[m].references&&(l[m].updater(),l.splice(m,1))}o=i}}}},704:(t,e,o)=>{t.exports=o(79)("./src/core.js")},492:(t,e,o)=>{t.exports=o(79)("./src/engine.js")},209:(t,e,o)=>{t.exports=o(79)("./src/utils.js")},995:(t,e,o)=>{t.exports=o(79)("./src/widget.js")},79:t=>{"use strict";t.exports=CKEditor5.dll}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r),o.d(r,{DataFilter:()=>br,DataSchema:()=>Ne,GeneralHtmlSupport:()=>Ir,HtmlComment:()=>xr});var t=o(704),e=o(209);const n=[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"$htmlSection",modelSchema:{allowChildren:"$block",allowIn:["$root","$htmlSection"],isBlock:!0}},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlTable",view:"table",modelSchema:{allowIn:["$htmlSection","$root"],isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!0}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!0}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!0}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!0}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isBlock:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowChildren:["$block","$htmlSection"],isBlock:!0}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowChildren:["$block","$htmlSection"],isBlock:!0}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$htmlSection",isBlock:!0}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!0}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:"$text",allowIn:"htmlDetails",isBlock:!0}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!0}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$htmlSection",allowChildren:["$htmlList","htmlLi"],isBlock:!0}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!0}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"htmlDl",view:"dl",modelSchema:{allowIn:["$htmlSection","$root"],allowChildren:["htmlDt","htmlDd"],isBlock:!0}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!0}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!0}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$htmlSection"}},{model:"$htmlObjectBlock",isObject:!0,modelSchema:{isObject:!0,isBlock:!0,allowWhere:"$block"}}],i=[{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0}},{model:"htmlA",view:"a",priority:5,attributeProperties:{copyOnEnter:!0}},{model:"htmlStrong",view:"strong",attributeProperties:{copyOnEnter:!0}},{model:"htmlB",view:"b",attributeProperties:{copyOnEnter:!0}},{model:"htmlI",view:"i",attributeProperties:{copyOnEnter:!0}},{model:"htmlEm",view:"em",attributeProperties:{copyOnEnter:!0}},{model:"htmlS",view:"s",attributeProperties:{copyOnEnter:!0}},{model:"htmlDel",view:"del",attributeProperties:{copyOnEnter:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0}},{model:"htmlU",view:"u",attributeProperties:{copyOnEnter:!0}},{model:"htmlSub",view:"sub",attributeProperties:{copyOnEnter:!0}},{model:"htmlSup",view:"sup",attributeProperties:{copyOnEnter:!0}},{model:"htmlCode",view:"code",attributeProperties:{copyOnEnter:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0}},{model:"$htmlObjectInline",isObject:!0,modelSchema:{isObject:!0,isInline:!0,allowWhere:"$text",allowAttributesOf:"$text"}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$htmlObjectInline"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}}];const l=function(){this.__data__=[],this.size=0};const c=function(t,e){return t===e||t!=t&&e!=e};const s=function(t,e){for(var o=t.length;o--;)if(c(t[o][0],e))return o;return-1};var a=Array.prototype.splice;const m=function(t){var e=this.__data__,o=s(e,t);return!(o<0)&&(o==e.length-1?e.pop():a.call(e,o,1),--this.size,!0)};const u=function(t){var e=this.__data__,o=s(e,t);return o<0?void 0:e[o][1]};const d=function(t){return s(this.__data__,t)>-1};const h=function(t,e){var o=this.__data__,r=s(o,t);return r<0?(++this.size,o.push([t,e])):o[r][1]=e,this};function f(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var r=t[e];this.set(r[0],r[1])}}f.prototype.clear=l,f.prototype.delete=m,f.prototype.get=u,f.prototype.has=d,f.prototype.set=h;const b=f;const p=function(){this.__data__=new b,this.size=0};const v=function(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o};const g=function(t){return this.__data__.get(t)};const w=function(t){return this.__data__.has(t)};const y="object"==typeof global&&global&&global.Object===Object&&global;var A="object"==typeof self&&self&&self.Object===Object&&self;const j=y||A||Function("return this")();const _=j.Symbol;var S=Object.prototype,O=S.hasOwnProperty,k=S.toString,E=_?_.toStringTag:void 0;const $=function(t){var e=O.call(t,E),o=t[E];try{t[E]=void 0;var r=!0}catch(t){}var n=k.call(t);return r&&(e?t[E]=o:delete t[E]),n};var C=Object.prototype.toString;const I=function(t){return C.call(t)};var x=_?_.toStringTag:void 0;const F=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":x&&x in Object(t)?$(t):I(t)};const P=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const T=function(t){if(!P(t))return!1;var e=F(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const B=j["__core-js_shared__"];var R,M=(R=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"";const D=function(t){return!!M&&M in t};var H=Function.prototype.toString;const L=function(t){if(null!=t){try{return H.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var z=/^\[object .+?Constructor\]$/,N=Function.prototype,V=Object.prototype,U=N.toString,q=V.hasOwnProperty,W=RegExp("^"+U.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const K=function(t){return!(!P(t)||D(t))&&(T(t)?W:z).test(L(t))};const G=function(t,e){return null==t?void 0:t[e]};const Z=function(t,e){var o=G(t,e);return K(o)?o:void 0};const Q=Z(j,"Map");const J=Z(Object,"create");const X=function(){this.__data__=J?J(null):{},this.size=0};const Y=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var tt=Object.prototype.hasOwnProperty;const et=function(t){var e=this.__data__;if(J){var o=e[t];return"__lodash_hash_undefined__"===o?void 0:o}return tt.call(e,t)?e[t]:void 0};var ot=Object.prototype.hasOwnProperty;const rt=function(t){var e=this.__data__;return J?void 0!==e[t]:ot.call(e,t)};const nt=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=J&&void 0===e?"__lodash_hash_undefined__":e,this};function it(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var r=t[e];this.set(r[0],r[1])}}it.prototype.clear=X,it.prototype.delete=Y,it.prototype.get=et,it.prototype.has=rt,it.prototype.set=nt;const lt=it;const ct=function(){this.size=0,this.__data__={hash:new lt,map:new(Q||b),string:new lt}};const st=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const at=function(t,e){var o=t.__data__;return st(e)?o["string"==typeof e?"string":"hash"]:o.map};const mt=function(t){var e=at(this,t).delete(t);return this.size-=e?1:0,e};const ut=function(t){return at(this,t).get(t)};const dt=function(t){return at(this,t).has(t)};const ht=function(t,e){var o=at(this,t),r=o.size;return o.set(t,e),this.size+=o.size==r?0:1,this};function ft(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var r=t[e];this.set(r[0],r[1])}}ft.prototype.clear=ct,ft.prototype.delete=mt,ft.prototype.get=ut,ft.prototype.has=dt,ft.prototype.set=ht;const bt=ft;const pt=function(t,e){var o=this.__data__;if(o instanceof b){var r=o.__data__;if(!Q||r.length<199)return r.push([t,e]),this.size=++o.size,this;o=this.__data__=new bt(r)}return o.set(t,e),this.size=o.size,this};function vt(t){var e=this.__data__=new b(t);this.size=e.size}vt.prototype.clear=p,vt.prototype.delete=v,vt.prototype.get=g,vt.prototype.has=w,vt.prototype.set=pt;const gt=vt;const wt=function(){try{var t=Z(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const yt=function(t,e,o){"__proto__"==e&&wt?wt(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o};const At=function(t,e,o){(void 0!==o&&!c(t[e],o)||void 0===o&&!(e in t))&&yt(t,e,o)};const jt=function(t){return function(e,o,r){for(var n=-1,i=Object(e),l=r(e),c=l.length;c--;){var s=l[t?c:++n];if(!1===o(i[s],s,i))break}return e}}();var _t="object"==typeof exports&&exports&&!exports.nodeType&&exports,St=_t&&"object"==typeof module&&module&&!module.nodeType&&module,Ot=St&&St.exports===_t?j.Buffer:void 0,kt=Ot?Ot.allocUnsafe:void 0;const Et=function(t,e){if(e)return t.slice();var o=t.length,r=kt?kt(o):new t.constructor(o);return t.copy(r),r};const $t=j.Uint8Array;const Ct=function(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e};const It=function(t,e){var o=e?Ct(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)};const xt=function(t,e){var o=-1,r=t.length;for(e||(e=Array(r));++o<r;)e[o]=t[o];return e};var Ft=Object.create;const Pt=function(){function t(){}return function(e){if(!P(e))return{};if(Ft)return Ft(e);t.prototype=e;var o=new t;return t.prototype=void 0,o}}();const Tt=function(t,e){return function(o){return t(e(o))}};const Bt=Tt(Object.getPrototypeOf,Object);var Rt=Object.prototype;const Mt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)};const Dt=function(t){return"function"!=typeof t.constructor||Mt(t)?{}:Pt(Bt(t))};const Ht=function(t){return null!=t&&"object"==typeof t};const Lt=function(t){return Ht(t)&&"[object Arguments]"==F(t)};var zt=Object.prototype,Nt=zt.hasOwnProperty,Vt=zt.propertyIsEnumerable;const Ut=Lt(function(){return arguments}())?Lt:function(t){return Ht(t)&&Nt.call(t,"callee")&&!Vt.call(t,"callee")};const qt=Array.isArray;const Wt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};const Kt=function(t){return null!=t&&Wt(t.length)&&!T(t)};const Gt=function(t){return Ht(t)&&Kt(t)};const Zt=function(){return!1};var Qt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Jt=Qt&&"object"==typeof module&&module&&!module.nodeType&&module,Xt=Jt&&Jt.exports===Qt?j.Buffer:void 0;const Yt=(Xt?Xt.isBuffer:void 0)||Zt;var te=Function.prototype,ee=Object.prototype,oe=te.toString,re=ee.hasOwnProperty,ne=oe.call(Object);const ie=function(t){if(!Ht(t)||"[object Object]"!=F(t))return!1;var e=Bt(t);if(null===e)return!0;var o=re.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&oe.call(o)==ne};var le={};le["[object Float32Array]"]=le["[object Float64Array]"]=le["[object Int8Array]"]=le["[object Int16Array]"]=le["[object Int32Array]"]=le["[object Uint8Array]"]=le["[object Uint8ClampedArray]"]=le["[object Uint16Array]"]=le["[object Uint32Array]"]=!0,le["[object Arguments]"]=le["[object Array]"]=le["[object ArrayBuffer]"]=le["[object Boolean]"]=le["[object DataView]"]=le["[object Date]"]=le["[object Error]"]=le["[object Function]"]=le["[object Map]"]=le["[object Number]"]=le["[object Object]"]=le["[object RegExp]"]=le["[object Set]"]=le["[object String]"]=le["[object WeakMap]"]=!1;const ce=function(t){return Ht(t)&&Wt(t.length)&&!!le[F(t)]};const se=function(t){return function(e){return t(e)}};var ae="object"==typeof exports&&exports&&!exports.nodeType&&exports,me=ae&&"object"==typeof module&&module&&!module.nodeType&&module,ue=me&&me.exports===ae&&y.process;const de=function(){try{var t=me&&me.require&&me.require("util").types;return t||ue&&ue.binding&&ue.binding("util")}catch(t){}}();var he=de&&de.isTypedArray;const fe=he?se(he):ce;const be=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var pe=Object.prototype.hasOwnProperty;const ve=function(t,e,o){var r=t[e];pe.call(t,e)&&c(r,o)&&(void 0!==o||e in t)||yt(t,e,o)};const ge=function(t,e,o,r){var n=!o;o||(o={});for(var i=-1,l=e.length;++i<l;){var c=e[i],s=r?r(o[c],t[c],c,o,t):void 0;void 0===s&&(s=t[c]),n?yt(o,c,s):ve(o,c,s)}return o};const we=function(t,e){for(var o=-1,r=Array(t);++o<t;)r[o]=e(o);return r};var ye=/^(?:0|[1-9]\d*)$/;const Ae=function(t,e){var o=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==o||"symbol"!=o&&ye.test(t))&&t>-1&&t%1==0&&t<e};var je=Object.prototype.hasOwnProperty;const _e=function(t,e){var o=qt(t),r=!o&&Ut(t),n=!o&&!r&&Yt(t),i=!o&&!r&&!n&&fe(t),l=o||r||n||i,c=l?we(t.length,String):[],s=c.length;for(var a in t)!e&&!je.call(t,a)||l&&("length"==a||n&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||Ae(a,s))||c.push(a);return c};const Se=function(t){var e=[];if(null!=t)for(var o in Object(t))e.push(o);return e};var Oe=Object.prototype.hasOwnProperty;const ke=function(t){if(!P(t))return Se(t);var e=Mt(t),o=[];for(var r in t)("constructor"!=r||!e&&Oe.call(t,r))&&o.push(r);return o};const Ee=function(t){return Kt(t)?_e(t,!0):ke(t)};const $e=function(t){return ge(t,Ee(t))};const Ce=function(t,e,o,r,n,i,l){var c=be(t,o),s=be(e,o),a=l.get(s);if(a)At(t,o,a);else{var m=i?i(c,s,o+"",t,e,l):void 0,u=void 0===m;if(u){var d=qt(s),h=!d&&Yt(s),f=!d&&!h&&fe(s);m=s,d||h||f?qt(c)?m=c:Gt(c)?m=xt(c):h?(u=!1,m=Et(s,!0)):f?(u=!1,m=It(s,!0)):m=[]:ie(s)||Ut(s)?(m=c,Ut(c)?m=$e(c):P(c)&&!T(c)||(m=Dt(s))):u=!1}u&&(l.set(s,m),n(m,s,r,i,l),l.delete(s)),At(t,o,m)}};const Ie=function t(e,o,r,n,i){e!==o&&jt(o,(function(l,c){if(i||(i=new gt),P(l))Ce(e,o,c,r,t,n,i);else{var s=n?n(be(e,c),l,c+"",e,o,i):void 0;void 0===s&&(s=l),At(e,c,s)}}),Ee)};const xe=function(t){return t};const Fe=function(t,e,o){switch(o.length){case 0:return t.call(e);case 1:return t.call(e,o[0]);case 2:return t.call(e,o[0],o[1]);case 3:return t.call(e,o[0],o[1],o[2])}return t.apply(e,o)};var Pe=Math.max;const Te=function(t,e,o){return e=Pe(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=Pe(r.length-e,0),l=Array(i);++n<i;)l[n]=r[e+n];n=-1;for(var c=Array(e+1);++n<e;)c[n]=r[n];return c[e]=o(l),Fe(t,this,c)}};const Be=function(t){return function(){return t}};const Re=wt?function(t,e){return wt(t,"toString",{configurable:!0,enumerable:!1,value:Be(e),writable:!0})}:xe;var Me=Date.now;const De=function(t){var e=0,o=0;return function(){var r=Me(),n=16-(r-o);if(o=r,n>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Re);const He=function(t,e){return De(Te(t,e,xe),t+"")};const Le=function(t,e,o){if(!P(o))return!1;var r=typeof e;return!!("number"==r?Kt(o)&&Ae(e,o.length):"string"==r&&e in o)&&c(o[e],t)};const ze=function(t){return He((function(e,o){var r=-1,n=o.length,i=n>1?o[n-1]:void 0,l=n>2?o[2]:void 0;for(i=t.length>3&&"function"==typeof i?(n--,i):void 0,l&&Le(o[0],o[1],l)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var c=o[r];c&&t(e,c,r,i)}return e}))}((function(t,e,o,r){Ie(t,e,o,r)}));class Ne extends t.Plugin{constructor(t){super(t),this._definitions=new Map}static get pluginName(){return"DataSchema"}init(){for(const t of n)this.registerBlockElement(t);for(const t of i)this.registerInlineElement(t)}registerBlockElement(t){this._definitions.set(t.model,{...t,isBlock:!0})}registerInlineElement(t){this._definitions.set(t.model,{...t,isInline:!0})}extendBlockElement(t){this._extendDefinition({...t,isBlock:!0})}extendInlineElement(t){this._extendDefinition({...t,isInline:!0})}getDefinitionsForView(t,e){const o=new Set;for(const r of this._getMatchingViewDefinitions(t)){if(e)for(const t of this._getReferences(r.model))o.add(t);o.add(r)}return o}_getMatchingViewDefinitions(t){return Array.from(this._definitions.values()).filter((e=>e.view&&function(t,e){if("string"==typeof t)return t===e;if(t instanceof RegExp)return t.test(e);return!1}(t,e.view)))}*_getReferences(t){const{modelSchema:o}=this._definitions.get(t);if(!o)return;const r=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"];for(const n of r)for(const r of(0,e.toArray)(o[n]||[])){const e=this._definitions.get(r);r!==t&&e&&(yield*this._getReferences(e.model),yield e)}}_extendDefinition(t){const e=this._definitions.get(t.model),o=ze({},e,t,((t,e)=>Array.isArray(t)?t.concat(e):void 0));this._definitions.set(t.model,o)}}var Ve=o(492),Ue=o(995);const qe=function(t,e){for(var o=-1,r=null==t?0:t.length;++o<r&&!1!==e(t[o],o,t););return t};const We=Tt(Object.keys,Object);var Ke=Object.prototype.hasOwnProperty;const Ge=function(t){if(!Mt(t))return We(t);var e=[];for(var o in Object(t))Ke.call(t,o)&&"constructor"!=o&&e.push(o);return e};const Ze=function(t){return Kt(t)?_e(t):Ge(t)};const Qe=function(t,e){return t&&ge(e,Ze(e),t)};const Je=function(t,e){return t&&ge(e,Ee(e),t)};const Xe=function(t,e){for(var o=-1,r=null==t?0:t.length,n=0,i=[];++o<r;){var l=t[o];e(l,o,t)&&(i[n++]=l)}return i};const Ye=function(){return[]};var to=Object.prototype.propertyIsEnumerable,eo=Object.getOwnPropertySymbols;const oo=eo?function(t){return null==t?[]:(t=Object(t),Xe(eo(t),(function(e){return to.call(t,e)})))}:Ye;const ro=function(t,e){return ge(t,oo(t),e)};const no=function(t,e){for(var o=-1,r=e.length,n=t.length;++o<r;)t[n+o]=e[o];return t};const io=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)no(e,oo(t)),t=Bt(t);return e}:Ye;const lo=function(t,e){return ge(t,io(t),e)};const co=function(t,e,o){var r=e(t);return qt(t)?r:no(r,o(t))};const so=function(t){return co(t,Ze,oo)};const ao=function(t){return co(t,Ee,io)};const mo=Z(j,"DataView");const uo=Z(j,"Promise");const ho=Z(j,"Set");const fo=Z(j,"WeakMap");var bo="[object Map]",po="[object Promise]",vo="[object Set]",go="[object WeakMap]",wo="[object DataView]",yo=L(mo),Ao=L(Q),jo=L(uo),_o=L(ho),So=L(fo),Oo=F;(mo&&Oo(new mo(new ArrayBuffer(1)))!=wo||Q&&Oo(new Q)!=bo||uo&&Oo(uo.resolve())!=po||ho&&Oo(new ho)!=vo||fo&&Oo(new fo)!=go)&&(Oo=function(t){var e=F(t),o="[object Object]"==e?t.constructor:void 0,r=o?L(o):"";if(r)switch(r){case yo:return wo;case Ao:return bo;case jo:return po;case _o:return vo;case So:return go}return e});const ko=Oo;var Eo=Object.prototype.hasOwnProperty;const $o=function(t){var e=t.length,o=new t.constructor(e);return e&&"string"==typeof t[0]&&Eo.call(t,"index")&&(o.index=t.index,o.input=t.input),o};const Co=function(t,e){var o=e?Ct(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)};var Io=/\w*$/;const xo=function(t){var e=new t.constructor(t.source,Io.exec(t));return e.lastIndex=t.lastIndex,e};var Fo=_?_.prototype:void 0,Po=Fo?Fo.valueOf:void 0;const To=function(t){return Po?Object(Po.call(t)):{}};const Bo=function(t,e,o){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Ct(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Co(t,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return It(t,o);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return xo(t);case"[object Symbol]":return To(t)}};const Ro=function(t){return Ht(t)&&"[object Map]"==ko(t)};var Mo=de&&de.isMap;const Do=Mo?se(Mo):Ro;const Ho=function(t){return Ht(t)&&"[object Set]"==ko(t)};var Lo=de&&de.isSet;const zo=Lo?se(Lo):Ho;var No="[object Arguments]",Vo="[object Function]",Uo="[object Object]",qo={};qo[No]=qo["[object Array]"]=qo["[object ArrayBuffer]"]=qo["[object DataView]"]=qo["[object Boolean]"]=qo["[object Date]"]=qo["[object Float32Array]"]=qo["[object Float64Array]"]=qo["[object Int8Array]"]=qo["[object Int16Array]"]=qo["[object Int32Array]"]=qo["[object Map]"]=qo["[object Number]"]=qo["[object Object]"]=qo["[object RegExp]"]=qo["[object Set]"]=qo["[object String]"]=qo["[object Symbol]"]=qo["[object Uint8Array]"]=qo["[object Uint8ClampedArray]"]=qo["[object Uint16Array]"]=qo["[object Uint32Array]"]=!0,qo["[object Error]"]=qo[Vo]=qo["[object WeakMap]"]=!1;const Wo=function t(e,o,r,n,i,l){var c,s=1&o,a=2&o,m=4&o;if(r&&(c=i?r(e,n,i,l):r(e)),void 0!==c)return c;if(!P(e))return e;var u=qt(e);if(u){if(c=$o(e),!s)return xt(e,c)}else{var d=ko(e),h=d==Vo||"[object GeneratorFunction]"==d;if(Yt(e))return Et(e,s);if(d==Uo||d==No||h&&!i){if(c=a||h?{}:Dt(e),!s)return a?lo(e,Je(c,e)):ro(e,Qe(c,e))}else{if(!qo[d])return i?e:{};c=Bo(e,d,s)}}l||(l=new gt);var f=l.get(e);if(f)return f;l.set(e,c),zo(e)?e.forEach((function(n){c.add(t(n,o,r,n,e,l))})):Do(e)&&e.forEach((function(n,i){c.set(i,t(n,o,r,i,e,l))}));var b=u?void 0:(m?a?ao:so:a?Ee:Ze)(e);return qe(b||e,(function(n,i){b&&(n=e[i=n]),ve(c,i,t(n,o,r,i,e,l))})),c};const Ko=function(t){return Wo(t,5)};function Go(t,e,o){if(e.attributes)for(const[r,n]of Object.entries(e.attributes))t.setAttribute(r,n,o);e.styles&&t.setStyle(e.styles,o),e.classes&&t.addClass(e.classes,o)}function Zo(t,e){const o=Ko(t);for(const r in e)Array.isArray(e[r])?o[r]=Array.from(new Set([...t[r],...e[r]])):o[r]={...t[r],...e[r]};return o}function Qo({model:t}){return(e,o)=>o.writer.createElement(t,{htmlContent:e.getCustomProperty("$rawContent")})}function Jo(t,{view:e,isInline:o}){const r=t.t;return(t,{writer:n,consumable:i})=>{const l=r("HTML object"),c=Xo(e,t,n);n.addClass("html-object-embed__content",c);const s=t.getAttribute("htmlAttributes");s&&i.consume(t,`attribute:htmlAttributes:${t.name}`)&&Go(n,s,c);const a=n.createContainerElement(o?"span":"div",{class:"html-object-embed","data-html-object-embed-label":l},c,{isAllowedInsideAttributeElement:o});return(0,Ue.toWidget)(a,n,{widgetLabel:l})}}function Xo(t,e,o){return o.createRawElement(t,null,((t,o)=>{o.setContentOf(t,e.getAttribute("htmlContent"))}))}function Yo({priority:t,view:e}){return(o,r)=>{if(!o)return;const{writer:n}=r,i=n.createAttributeElement(e,null,{priority:t});return Go(n,o,i),i}}function tr({view:t},e){return o=>{o.on(`element:${t}`,((t,o,r)=>{if(!o.modelRange)return;const n=e._consumeAllowedAttributes(o.viewItem,r);n&&r.writer.setAttribute("htmlAttributes",n,o.modelRange)}),{priority:"low"})}}function er({model:t}){return e=>{e.on(`attribute:htmlAttributes:${t}`,((t,e,o)=>{const r=e.attributeNewValue;if(!o.consumable.consume(e.item,t.name))return;Go(o.writer,r,o.mapper.toViewElement(e.item))}))}}const or=function(t,e){for(var o=-1,r=null==t?0:t.length,n=Array(r);++o<r;)n[o]=e(t[o],o,t);return n};const rr=function(t,e,o,r){for(var n=t.length,i=o+(r?1:-1);r?i--:++i<n;)if(e(t[i],i,t))return i;return-1};const nr=function(t){return t!=t};const ir=function(t,e,o){for(var r=o-1,n=t.length;++r<n;)if(t[r]===e)return r;return-1};const lr=function(t,e,o){return e==e?ir(t,e,o):rr(t,nr,o)};const cr=function(t,e,o,r){for(var n=o-1,i=t.length;++n<i;)if(r(t[n],e))return n;return-1};var sr=Array.prototype.splice;const ar=function(t,e,o,r){var n=r?cr:lr,i=-1,l=e.length,c=t;for(t===e&&(e=xt(e)),o&&(c=or(t,se(o)));++i<l;)for(var s=0,a=e[i],m=o?o(a):a;(s=n(c,m,s,r))>-1;)c!==t&&sr.call(c,s,1),sr.call(t,s,1);return t};const mr=He((function(t,e){return t&&t.length&&e&&e.length?ar(t,e):t}));var ur=o(62),dr=o.n(ur),hr=o(142),fr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};dr()(hr.Z,fr);hr.Z.locals;class br extends t.Plugin{constructor(t){super(t),this._dataSchema=t.plugins.get("DataSchema"),this._allowedAttributes=new Ve.Matcher,this._disallowedAttributes=new Ve.Matcher,this._allowedElements=new Set,this._dataInitialized=!1,this._registerElementsAfterInit(),this._registerElementHandlers()}static get pluginName(){return"DataFilter"}static get requires(){return[Ne,Ue.Widget]}loadAllowedConfig(t){this._loadConfig(t,(t=>this.allowAttributes(t)))}loadDisallowedConfig(t){this._loadConfig(t,(t=>this.disallowAttributes(t)))}allowElement(t){for(const e of this._dataSchema.getDefinitionsForView(t,!0))this._allowedElements.has(e)||(this._allowedElements.add(e),this._dataInitialized&&this._fireRegisterEvent(e))}allowAttributes(t){this._allowedAttributes.add(t)}disallowAttributes(t){this._disallowedAttributes.add(t)}_loadConfig(t,e){for(const o of t){const t=o.name||/[\s\S]+/;this.allowElement(t),yr(o).forEach(e)}}_consumeAllowedAttributes(t,e){return pr(t,e,this._disallowedAttributes),pr(t,e,this._allowedAttributes)}_registerElementsAfterInit(){this.editor.data.on("init",(()=>{this._dataInitialized=!0;for(const t of this._allowedElements)this._fireRegisterEvent(t)}),{priority:e.priorities.get("highest")+1})}_registerElementHandlers(){this.on("register",((t,o)=>{const r=this.editor.model.schema;if(o.isObject&&!r.isRegistered(o.model))this._registerObjectElement(o);else if(o.isBlock)this._registerBlockElement(o);else{if(!o.isInline)throw new e.CKEditorError("data-filter-invalid-definition",null,o);this._registerInlineElement(o)}t.stop()}),{priority:"lowest"})}_fireRegisterEvent(t){this.fire(t.view?`register:${t.view}`:"register",t)}_registerObjectElement(t){const o=this.editor,r=o.model.schema,n=o.conversion,{view:i,model:l}=t;r.register(l,t.modelSchema),i&&(r.extend(t.model,{allowAttributes:["htmlAttributes","htmlContent"]}),o.data.registerRawContentMatcher({name:i}),n.for("upcast").elementToElement({view:i,model:Qo(t),converterPriority:e.priorities.get("low")+1}),n.for("upcast").add(tr(t,this)),n.for("editingDowncast").elementToStructure({model:l,view:Jo(o,t)}),n.for("dataDowncast").elementToElement({model:l,view:(t,{writer:e})=>Xo(i,t,e)}),n.for("dataDowncast").add(er(t)))}_registerBlockElement(t){const o=this.editor,r=o.model.schema,n=o.conversion,{view:i,model:l}=t;if(!r.isRegistered(t.model)){if(r.register(t.model,t.modelSchema),!i)return;n.for("upcast").elementToElement({model:l,view:i,converterPriority:e.priorities.get("low")+1}),n.for("downcast").elementToElement({model:l,view:i})}i&&(r.extend(t.model,{allowAttributes:"htmlAttributes"}),n.for("upcast").add(tr(t,this)),n.for("downcast").add(er(t)))}_registerInlineElement(t){const e=this.editor,o=e.model.schema,r=e.conversion,n=t.model;o.extend("$text",{allowAttributes:n}),t.attributeProperties&&o.setAttributeProperties(n,t.attributeProperties),r.for("upcast").add(function({view:t,model:e},o){return r=>{r.on(`element:${t}`,((t,r,n)=>{const i=o._consumeAllowedAttributes(r.viewItem,n);r.modelRange||(r=Object.assign(r,n.convertChildren(r.viewItem,r.modelCursor)));for(const t of r.modelRange.getItems())if(n.schema.checkAttribute(t,e)){const o=Zo(i||{},t.getAttribute(e)||{});n.writer.setAttribute(e,o,t)}}),{priority:"low"})}}(t,this)),r.for("downcast").attributeToElement({model:n,view:Yo(t)})}}function pr(t,e,o){const r=function(t,{consumable:e},o){const r=o.matchAll(t)||[],n=[];for(const o of r)vr(e,t,o),delete o.match.name,e.consume(t,o.match)&&n.push(o);return n}(t,e,o),{attributes:n,styles:i,classes:l}=function(t){const e={attributes:new Set,classes:new Set,styles:new Set};for(const o of t)for(const t in e){(o.match[t]||[]).forEach((o=>e[t].add(o)))}return e}(r),c={};return n.size&&(c.attributes=gr(n,(e=>t.getAttribute(e)))),i.size&&(c.styles=gr(i,(e=>t.getStyle(e)))),l.size&&(c.classes=Array.from(l)),Object.keys(c).length?c:null}function vr(t,e,o){for(const r of["attributes","classes","styles"]){const n=o.match[r];if(n)for(const o of n)t.test(e,{[r]:[o]})||mr(n,o)}}function gr(t,e){const o={};for(const r of t){void 0!==e(r)&&(o[r]=e(r))}return o}function wr(t,e){const{name:o}=t;return ie(t[e])?Object.entries(t[e]).map((([t,r])=>({name:o,[e]:{[t]:r}}))):Array.isArray(t[e])?t[e].map((t=>({name:o,[e]:[t]}))):[t]}function yr(t){const{name:e,attributes:o,classes:r,styles:n}=t,i=[];return o&&i.push(...wr({name:e,attributes:o},"attributes")),r&&i.push(...wr({name:e,classes:r},"classes")),n&&i.push(...wr({name:e,styles:n},"styles")),i}class Ar extends t.Plugin{static get requires(){return[br]}init(){if(!this.editor.plugins.has("CodeBlockEditing"))return;const t=this.editor.plugins.get(br);t.on("register:pre",((e,o)=>{if("codeBlock"!==o.model)return;const r=this.editor,n=r.model.schema,i=r.conversion;n.extend("codeBlock",{allowAttributes:["htmlAttributes","htmlContentAttributes"]}),i.for("upcast").add(function(t){return e=>{e.on("element:code",((e,o,r)=>{const n=o.viewItem,i=n.parent;function l(e,n){const i=t._consumeAllowedAttributes(e,r);i&&r.writer.setAttribute(n,i,o.modelRange)}i&&i.is("element","pre")&&(l(i,"htmlAttributes"),l(n,"htmlContentAttributes"))}),{priority:"low"})}}(t)),i.for("downcast").add((t=>{t.on("attribute:htmlAttributes:codeBlock",((t,e,o)=>{if(!o.consumable.consume(e.item,t.name))return;const r=o.mapper.toViewElement(e.item).parent;Go(o.writer,e.attributeNewValue,r)})),t.on("attribute:htmlContentAttributes:codeBlock",((t,e,o)=>{if(!o.consumable.consume(e.item,t.name))return;const r=o.mapper.toViewElement(e.item);Go(o.writer,e.attributeNewValue,r)}))})),e.stop()}))}}class jr extends t.Plugin{static get requires(){return[br]}init(){this.editor.plugins.get(br).on("register",((t,o)=>{const r=this.editor,n=r.model.schema,i=r.conversion;if(!o.paragraphLikeModel)return;if(n.isRegistered(o.model)||n.isRegistered(o.paragraphLikeModel))return;const l={model:o.paragraphLikeModel,view:o.view};n.register(o.model,o.modelSchema),n.register(l.model,{inheritAllFrom:"$block"}),i.for("upcast").elementToElement({view:o.view,model:(t,{writer:e})=>this._hasBlockContent(t)?e.createElement(o.model):e.createElement(l.model),converterPriority:e.priorities.get("low")+1}),i.for("downcast").elementToElement({view:o.view,model:o.model}),this._addAttributeConversion(o),i.for("downcast").elementToElement({view:l.view,model:l.model}),this._addAttributeConversion(l),t.stop()}))}_hasBlockContent(t){const e=this.editor.editing.view.domConverter.blockElements;return Array.from(t.getChildren()).some((t=>e.includes(t.name)))}_addAttributeConversion(t){const e=this.editor,o=e.conversion,r=e.plugins.get(br);e.model.schema.extend(t.model,{allowAttributes:"htmlAttributes"}),o.for("upcast").add(tr(t,r)),o.for("downcast").add(er(t))}}class _r extends t.Plugin{static get requires(){return[Ne]}init(){const t=this.editor;if(!t.plugins.has("HeadingEditing"))return;const e=t.plugins.get(Ne),o=t.config.get("heading.options"),r=[];for(const t of o)"model"in t&&"view"in t&&(e.registerBlockElement({view:t.view,model:t.model}),r.push(t.model));e.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:r}})}}class Sr extends t.Plugin{static get requires(){return[br]}init(){const t=this.editor;if(!t.plugins.has("ImageInlineEditing")&&!t.plugins.has("ImageBlockEditing"))return;const e=t.model.schema,o=t.conversion,r=t.plugins.get(br);r.on("register:img",((t,n)=>{"imageBlock"!==n.model&&"imageInline"!==n.model||(e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["htmlAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["htmlA","htmlAttributes"]}),o.for("upcast").add(function(t){return e=>{e.on("element:img",((e,o,r)=>{const n=o.viewItem,i=n.parent;function l(e,n){const i=t._consumeAllowedAttributes(e,r);i&&r.writer.setAttribute(n,i,o.modelRange)}function c(t){o.modelRange&&o.modelRange.getContainedElement().is("element","imageBlock")&&l(t,"htmlLinkAttributes"),t.parent.is("element","figure")&&l(t.parent,"htmlFigureAttributes")}l(n,"htmlAttributes"),i.is("element","figure")?l(i,"htmlFigureAttributes"):i.is("element","a")&&c(i)}),{priority:"low"})}}(r)),o.for("downcast").add((t=>{function e(e){t.on(`attribute:${e}:imageInline`,((t,e,o)=>{if(!o.consumable.consume(e.item,t.name))return;const r=o.mapper.toViewElement(e.item);Go(o.writer,e.attributeNewValue,r)}),{priority:"low"})}function o(e,o){t.on(`attribute:${o}:imageBlock`,((t,o,r)=>{if(!r.consumable.consume(o.item,t.name))return;const n=r.mapper.toViewElement(o.item),i=Or(r.writer,n,e);Go(r.writer,o.attributeNewValue,i)}),{priority:"low"})}function r(){t.on("attribute:linkHref:imageBlock",((t,e,o)=>{if(!o.consumable.consume(e.item,"attribute:htmlLinkAttributes:imageBlock"))return;const r=o.mapper.toViewElement(e.item),n=Or(o.writer,r,"a");Go(o.writer,e.item.getAttribute("htmlLinkAttributes"),n)}),{priority:"low"})}e("htmlAttributes"),o("img","htmlAttributes"),o("figure","htmlFigureAttributes"),r()})),t.stop())}))}}function Or(t,e,o){const r=t.createRangeOn(e);for(const{item:t}of r.getWalker())if(t.is("element",o))return t}class kr extends t.Plugin{static get requires(){return[br]}init(){const t=this.editor;if(!t.plugins.has("MediaEmbed")||t.config.get("mediaEmbed.previewsInData"))return;const e=t.model.schema,o=t.conversion,r=this.editor.plugins.get(br),n=this.editor.plugins.get(Ne),i=t.config.get("mediaEmbed.elementName");n.registerBlockElement({model:"media",view:i}),r.on(`register:${i}`,((t,n)=>{"media"===n.model&&(e.extend("media",{allowAttributes:["htmlAttributes","htmlFigureAttributes"]}),o.for("upcast").add(function(t,e){return t=>{t.on(`element:${e}`,o)};function o(e,o,r){const n=o.viewItem,i=n.parent;function l(e,n){const i=t._consumeAllowedAttributes(e,r);i&&r.writer.setAttribute(n,i,o.modelRange)}l(n,"htmlAttributes"),i.is("element","figure")&&i.hasClass("media")&&l(i,"htmlFigureAttributes")}}(r,i)),o.for("dataDowncast").add(function(t){return e=>{function o(t,o){e.on(`attribute:${o}:media`,((e,o,r)=>{if(!r.consumable.consume(o.item,e.name))return;const n=r.mapper.toViewElement(o.item),i=function(t,e,o){const r=t.createRangeOn(e);for(const{item:t}of r.getWalker())if(t.is("element",o))return t}(r.writer,n,t);Go(r.writer,o.attributeNewValue,i)}))}o(t,"htmlAttributes"),o("figure","htmlFigureAttributes")}}(i)),t.stop())}))}}class Er extends t.Plugin{static get requires(){return[br]}init(){const t=this.editor.plugins.get(br);t.on("register:script",((e,o)=>{const r=this.editor,n=r.model.schema,i=r.conversion;n.register("htmlScript",o.modelSchema),n.extend("htmlScript",{allowAttributes:["htmlAttributes","htmlContent"],isContent:!0}),r.data.registerRawContentMatcher({name:"script"}),i.for("upcast").elementToElement({view:"script",model:Qo(o)}),i.for("upcast").add(tr(o,t)),i.for("downcast").elementToElement({model:"htmlScript",view:(t,{writer:e})=>Xo("script",t,e)}),i.for("downcast").add(er(o)),e.stop()}))}}class $r extends t.Plugin{static get requires(){return[br]}init(){const t=this.editor;if(!t.plugins.has("TableEditing"))return;const e=t.model.schema,o=t.conversion,r=t.plugins.get(br);r.on("register:table",((t,n)=>{"table"===n.model&&(e.extend("table",{allowAttributes:["htmlAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),o.for("upcast").add(function(t){return e=>{e.on("element:table",((e,o,r)=>{const n=o.viewItem;l(n,"htmlAttributes");const i=n.parent;i.is("element","figure")&&l(i,"htmlFigureAttributes");for(const t of n.getChildren())t.is("element","thead")&&l(t,"htmlTheadAttributes"),t.is("element","tbody")&&l(t,"htmlTbodyAttributes");function l(e,n){const i=t._consumeAllowedAttributes(e,r);i&&r.writer.setAttribute(n,i,o.modelRange)}}),{priority:"low"})}}(r)),o.for("downcast").add((t=>{function e(e,o){t.on(`attribute:${o}:table`,((t,o,r)=>{if(!r.consumable.consume(o.item,t.name))return;const n=r.mapper.toViewElement(o.item),i=function(t,e,o){const r=t.createRangeOn(e);for(const{item:t}of r.getWalker())if(t.is("element",o))return t}(r.writer,n,e);Go(r.writer,o.attributeNewValue,i)}))}e("table","htmlAttributes"),e("figure","htmlFigureAttributes"),e("thead","htmlTheadAttributes"),e("tbody","htmlTbodyAttributes")})),t.stop())}))}}class Cr extends t.Plugin{static get requires(){return[br]}init(){const t=this.editor.plugins.get(br);t.on("register:style",((e,o)=>{const r=this.editor,n=r.model.schema,i=r.conversion;n.register("htmlStyle",o.modelSchema),n.extend("htmlStyle",{allowAttributes:["htmlAttributes","htmlContent"],isContent:!0}),r.data.registerRawContentMatcher({name:"style"}),i.for("upcast").elementToElement({view:"style",model:Qo(o)}),i.for("upcast").add(tr(o,t)),i.for("downcast").elementToElement({model:"htmlStyle",view:(t,{writer:e})=>Xo("style",t,e)}),i.for("downcast").add(er(o)),e.stop()}))}}class Ir extends t.Plugin{static get pluginName(){return"GeneralHtmlSupport"}static get requires(){return[br,Ar,jr,_r,Sr,kr,Er,$r,Cr]}init(){const t=this.editor,e=t.plugins.get(br);e.loadAllowedConfig(t.config.get("htmlSupport.allow")||[]),e.loadDisallowedConfig(t.config.get("htmlSupport.disallow")||[])}}class xr extends t.Plugin{static get pluginName(){return"HtmlComment"}init(){const t=this.editor;t.model.schema.addAttributeCheck(((t,e)=>{if(t.endsWith("$root")&&e.startsWith("$comment"))return!0})),t.conversion.for("upcast").elementToMarker({view:"$comment",model:(t,{writer:o})=>{const r=this.editor.model.document.getRoot(),n=t.getCustomProperty("$rawContent"),i=`$comment:${(0,e.uid)()}`;return o.setAttribute(i,n,r),i}}),t.conversion.for("dataDowncast").markerToElement({model:"$comment",view:(t,{writer:e})=>{const o=this.editor.model.document.getRoot(),r=t.markerName,n=o.getAttribute(r),i=e.createUIElement("$comment");return e.setCustomProperty("$rawContent",n,i),i}}),t.model.document.registerPostFixer((e=>{const o=t.model.document.getRoot(),r=t.model.document.differ.getChangedMarkers().filter((t=>t.name.startsWith("$comment"))).filter((t=>{const e=t.data.newRange;return e&&"$graveyard"===e.root.rootName}));if(0===r.length)return!1;for(const t of r)e.removeMarker(t.name),e.removeAttribute(t.name,o);return!0})),t.data.on("set",(()=>{for(const e of t.model.markers.getMarkersGroup("$comment"))this.removeHtmlComment(e.name)}),{priority:"high"}),t.model.on("deleteContent",((e,[o])=>{for(const e of o.getRanges()){const o=t.model.schema.getLimitElement(e),r=t.model.createPositionAt(o,0),n=t.model.createPositionAt(o,"end");let i;i=r.isTouching(e.start)&&n.isTouching(e.end)?this.getHtmlCommentsInRange(t.model.createRange(r,n)):this.getHtmlCommentsInRange(e,{skipBoundaries:!0});for(const t of i)this.removeHtmlComment(t)}}),{priority:"high"})}createHtmlComment(t,o){const r=(0,e.uid)(),n=this.editor.model,i=n.document.getRoot(),l=`$comment:${r}`;return n.change((e=>{const r=e.createRange(t);return e.addMarker(l,{usingOperation:!0,affectsData:!0,range:r}),e.setAttribute(l,o,i),l}))}removeHtmlComment(t){const e=this.editor,o=e.model.document.getRoot(),r=e.model.markers.get(t);return!!r&&(e.model.change((e=>{e.removeMarker(r),e.removeAttribute(t,o)})),!0)}getHtmlCommentData(t){const e=this.editor,o=e.model.markers.get(t),r=e.model.document.getRoot();return o?{content:r.getAttribute(t),position:o.getStart()}:null}getHtmlCommentsInRange(t,{skipBoundaries:e=!1}={}){const o=!e;return Array.from(this.editor.model.markers.getMarkersGroup("$comment")).filter((e=>function(t,e){const r=t.getRange().start;return(r.isAfter(e.start)||o&&r.isEqual(e.start))&&(r.isBefore(e.end)||o&&r.isEqual(e.end))}(e,t))).map((t=>t.name))}}})(),(window.CKEditor5=window.CKEditor5||{}).htmlSupport=r})();